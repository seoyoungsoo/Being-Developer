# 데이터 타입의 종류

## 기본형

- 숫자(Number)
- 문자열(String)
- 불리언(Boolean)
- null
- undefined

**ES6 이후 추가**

- 심볼(Symbol)

## 참조형

- 객체(Object)
- 배열(Array)
- 함수(Function)
- 날짜(Date)
- 정규표현식(RegExp)

**ES6 이후 추가**

- Map
- WeakMap
- Set
- WeakSet

# 데이터 타입에 관한 배경지식

## 메모리와 데이터

- 컴퓨터는 모든 데이터를 0 또는 1로 바꿔 기억함
    - 0 또는 1만 표현할 수 있는 하나의 메모리 조각을 `비트` 라고 한다.
    - 각 비트는 고유한 식별자를 통해 위치를 확인할 수 있다.
    - 0이나 1만 표현할 수 있는 비트 단위로 위치를 확인하는 것은 매우 비효율적
    - 매우 많은 비트를 한 단위로 묶으면 검색 시간도 줄이고 표현할 수 있는 데이터의 개수도 늘어나지만 낭비되는 비트가 생김
    - 이런 고민의 결과로 `바이트` 라는 단위가 생김
- 자바스크립트는 상대적으로 메모리 관리에 대한 압박에서 자유로워짐
    - 형 변환을 걱정해야 하는 상황이 훨씬 덜 발생하게 됨

모든 데이터는 바이트 단위의 식별자, 더 정확하게는 `메모리 주솟값` 을 통해 서로 구분하고 연결할 수 있음

## 식별자와 변수

### 변수

- `변할 수 있는 수`
- 컴퓨터 용어로 쓸 때는 `변할 수 있는 무언가` 로 확장하여 사용
- '무언가'란 `데이터` 를 의미
- 즉, `변경 가능한 데이터가 담길 수 있는 공간 또는 그릇` 이라고 생각할 수 있음

### 식별자

- 어떤 데이터를 식별하는 데 사용하는 이름, 즉 `변수명`

# 변수 선언과 데이터 할당

## 데이터 할당

```jsx
let a; // 변수 a 선언
a = 'abc'; // 변수 a에 데이터 할당

let a = 'abc'; // 변수 선언과 할당을 한 문장으로 표현
```

### 데이터 할당의 흐름

메모리에 비어있는 공간을 확보하고 a라는 이름을 가진 주소를 검색해서 그곳에 문자열 'abc'를 할당하는 것 처럼 보이지만, 실제로는 해당 위치에 문자열 'abc'를 직접 저장하지 않는다.

데이터를 저장하기 위한 별도의 메모리 공간을 다시 확보해서 문자열 'abc'를 저장하고, 그 주소를 변수 영역에 저장하는 식으로 이뤄진다.

**ex)**

- 변수 영역의 주소 1003에 { 이름: a, 값 @5004 } 를 저장
- 데이터 영역의 주소 5004에 'abc'를 저장

### 왜 변수 영역에 값을 직접 대입하지 않고 번거롭게 한 단계를 더 거치는걸까?

- 이유
    - 데이터 변환을 자유롭게 할 수 있게 하기 위해서
    - 동시에 메모리를 더욱 효율적으로 관리하기 위해서

### 만약 미리 확보한 공간 내에서만 데이터 변환을 할 수 있다면?

- 확보된 공간을 변환된 데이터 크기에 맞게 늘리는 작업이 필요
- 즉, 컴퓨터가 처리해야 할 연산이 많아짐

# 기본형 데이터와 참조형 데이터

변수와 상수를 구분하는 성질은 `변경 가능성` 으로 바꿀 수 있으면 변수, 바꿀 수 없으면 상수이다.

변수와 상수를 구분 짓는 변경 가능성의 대상은 변수 영역 메모리
불변성 여부를 구분할 때의 변경 가능성의 대상은 데이터 영역 메모리

## 불변값

### 불변성

```jsx
let a = 'abc';
a = a + 'def';

let b = 5;
let c = 5;
b = 7;
```

- 변수 a에 문자열 'abc'를 할당했다가 뒤에 'def'를 더하면 새로운 문자열 'abcdef'의 주소를 변수 a에 저장한다. 즉, 'abc'와 'abcdef'는 완전히 별개의 데이터이다.
- 변수 b에 숫자 5를 할당할 때 데이터 영역에서 5를 찾고 없으면 데이터 공간을 하나 만들어 저장하고 그 주소를 변수 b에 저장한다. 변수 c를 할당할 때 이미 데이터 영역에 5가 존재해 그 주소를 재활용한다.
- 변수 b의 값을 7로 바꾼다. 그러면 기존 5의 데이터 영역 자체를 7로 바꾸는 것이 아니라 7을 찾아서 있으면 주소를 재활용하고 없으면 새로 만들어서 b에 저장한다.
- 결국 5와 7 모두 다른 값으로 변경할 수 없다.

이처럼 문자열, 숫자 값은 한 번 만든 값을 바꿀 수 없는 것이 불변값의 성질이다.

## 가변값

### 참조형 데이터의 할당

```jsx
let obj1 = {
	a: 1,
	b: 'bbb',
};
```

`객체의 변수(프로퍼티) 영역` 이 별도로 존재한다.

### 참조형 데이터의 프로퍼티 재할당

```jsx
let obj1 = {
	a: 1,
	b: 'bbb',
};
obj1.a = 2;
```

기존 객체 내부의 값만 바뀜

## 변수 복사 비교

### 기본형 데이터

```jsx
let a = 10;
let b = a;
```

- 변수 영역의 빈 공간을 확보하고 식별자를 b로 지정
- 식별자 a를 검색해 그 값을 찾아옴

### 참조형 데이터

```jsx
let obj1 = { c: 10, d: 'ddd' };
let obj2 = obj1;
```

- 변수 영역의 빈 공간을 확보해 식별자를 obj1로 지정
- 데이터 영역의 빈 공간을 확보하고, 데이터 그룹을 담기 위해 별도의 변수 영역을 확보해 그 주소를 저장
- 변수 영역의 빈 공간을 확보하고 식별자를 obj2로 지정
- 식별자 obj1을 검색해 그 값을 대입

### 변수 복사 이후 값 변경 결과 비교 (1) - 객체의 프로퍼티 변경 시

```jsx
b = 15;
```

- 데이터 영역에 아직 15가 없으므로 새로운 공간에 저장하고, 변수 영역에서 식별자가 b인 주소를 찾아 변경

```jsx
obj2.c = 20;
```

- 데이터 영역에 아직 20이 없으므로 새로운 공간에 저장하고, 변수 영역에서 obj2를 찾아 obj2의 값이 가리키는 변수 영역에서 다시 c를 찾아 그곳에 대입

기본형 데이터인 변수 b의 값을 바꾸면 a와 b는 서로 다른 주소를 바라보게 되지만,
참조형 데이터인 obj1과 obj2는 여전히 같은 객체를 바라보고 있는 상태

```jsx
a !== b
obj1 === obj2
```

즉, 위와 같은 상태가 된다.

> 엄밀히 따지면 자바스크립트의 모든 데이터 타입은 참조형 데이터일 수 밖에 없다. 다만 기본형은 주솟값을 복사하는 과정이 한 번만 이뤄지고, 참조형은 한 단계를 더 거치는 차이가 있다.

### 변수 복사 이후 값 변경 결과 비교 (2) - 객체 자체를 변경했을 때

```jsx
obj2 = { c: 20, d: 'ddd' };
```

- 메모리의 데이터 영역의 새로운 공간에 새 객체가 저장되고 그 주소를 변수 영역의 obj2 위치에 저장한다. 즉, obj1과 값이 달라지게 된다.

`가변` 은 참조형 데이터 자체를 변경할 경우가 아닌 그 내부의 프로퍼티를 변경할 때만 성립한다.